
TODO:
global exceptions handler
swagger
проверка на то что в прод моде сервис не валится от исключений
пользовательские исключения


ENDPOINTS:
- получить баланс (+ повалютная стата)
- пополнить баланс

-- USE CASES

допущение: можно сделать метод current_user и захардкодить там возврат одной записи,
  типа я и есть один единственный юзер

-----------------------------------------------------------------------------------------

ПОКУПКА
* входные данные: пользователь, тикер актива, кол-во актива (вещественное)

алгоритм:
1. сосчитать сумму того, что хотим купить (стоимость актива * кол-во)
если эта сумма больше баланса, кинуть исключение недостаточно средств для покупки

2. покупка
  2.1. записать в таблицу операций запись о покупке
  2.2. снять с баланса пользователя сумму из п. 1

  * если п. 2.1 не предполагает начисление купленного актива покупателю, потребуется
    промежуточный шаг с этим действием после п. 2.1
